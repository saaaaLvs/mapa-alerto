<!DOCTYPE html>
<html lang="en">

<head>
    <title>2nd-floor - Mapa-Alerto</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <link rel="icon" type="image/png" href="assets/LPU-Logo.png" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link rel="stylesheet" href="style.css" />
</head>

<body style="background-color: #fff">
    <!-- Loader -->
    <div id="loader-overlay">
        <img src="assets/loading-screen.gif" alt="Loading..." style="max-width: 100%; padding: 0; margin: 0" />
        <p id="loader-message">Getting things ready, please wait...</p>
    </div>

    <!-- Mobile Search Container (Fixed position overlay) -->
    <div class="mobile-search-container" id="mobileSearchContainer">
        <div class="mobile-search-wrapper">
            <input type="text" class="search-input" id="mobileSearchInput" placeholder="Search pages..."
                autocomplete="off">
            <i class="bi bi-x-lg mobile-search-close" id="mobileSearchClose"></i>
            <div class="search-results" id="mobileSearchResults"></div>
        </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-custom">
        <div class="container-fluid">
            <div class="d-flex flex-column flex-md-row align-items-center justify-content-between w-100">
                <!-- Logo + Toggler + Mobile Search Icon -->
                <div class="d-flex align-items-center">
                    <button class="navbar-toggler me-2" type="button" onclick="toggleMenu()">
                        <i class="bi bi-list"></i>
                    </button>
                    <a class="navbar-brand me-2" href="index.html">
                        <img src="banner-desktop.png" alt="LPU Logo" class="logo-img img-fluid" />
                    </a>
                    <!-- Mobile Search Button -->
                    <button class="mobile-search-btn" id="mobileSearchBtn">
                        <i class="bi bi-search text-white"></i>
                    </button>
                </div>

                <!-- Desktop Search Bar -->
                <div class="navbar-nav-section">
                    <div class="search-container">
                        <input type="text" class="search-input" id="searchInput" placeholder="Search pages..."
                            autocomplete="off">
                        <i class="bi bi-search search-icon" id="searchIcon"></i>
                        <div class="search-results" id="searchResults"></div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hidden Nav Links -->
    <div class="top-links" id="navLinks">
        <div class="dropdown">
            <a class="dropdown-toggle" style="cursor: default">COECSA Map</a>
            <div class="dropdown-menu">
                <a href="coecsa.html">COECSA Building</a>
                <a href="groundfloor.html">Ground Floor</a>
                <a href="2nd-floor.html">2nd Floor</a>
                <a href="3rd-floor.html">3rd Floor</a>
                <a href="5th-floor.html">5th Floor</a>
                <a href="6th-floor.html">6th Floor</a>
                <a href="7th-floor.html">7th Floor</a>
                <a href="safe-zone.html">Safe Zone</a>
            </div>
        </div>

        <span class="separator d-none d-md-inline">|</span>
        <div class="dropdown">
            <a class="dropdown-toggle" style="cursor: default">Guidelines</a>
            <div class="dropdown-menu">
                <a href="what-to-do.html">What To Do</a>
                <a href="contacts.html">Contacts</a>
            </div>
        </div>

        <span class="separator d-none d-md-inline">|</span>
        <div class="dropdown">
            <a href="" class="dropdown-toggle" style="cursor: pointer" onclick="event.preventDefault()">About Us</a>
            <div class="dropdown-menu">
                <a href="mapa-alerto.html">Mapa-Alerto</a>
                <a href="university-profile.html">University Profile</a>
            </div>
        </div>

        <span class="separator d-none d-md-inline">|</span>
        <a href="events.html">Events</a>

        <span class="separator d-none d-md-inline">|</span>
        <a href="faq.html">FAQs</a>
    </div>

    <section class="building-section container-fluid py-5 bg-white">
        <div class="row align-items-start gap-4" data-aos="zoom-in-down" data-aos-duration="800">
            <!-- Building Image -->
            <div class="col-md-8 mb-4 mb-md-0">
                <picture>
                    <!-- ðŸ‘‡ MOBILE image -->
                    <source srcset="./assets/floors/mob/Mobile COECSA 2ND FLOOR.png" media="(max-width: 767px)">
                    <!-- ðŸ‘‡ DESKTOP fallback image -->
                    <img id="mainImage" src="./assets/floors/COECSA 2ND FLOOR.png" alt="2nd floor image Image"
                        class="building-image" style="cursor: zoom-in;" data-bs-toggle="modal"
                        data-bs-target="#imageModal" />
                </picture>
            </div>

            <!-- Right Text -->
            <div class="col-md-3 text-center text-md-start">
                <h2 class="fw-bold fs-1">
                    2nd<br /><small class="fw-normal">Floor</small>
                </h2>
                <div class="floor-list mt-3 fs-5">
                    <div class="row g-2">
                        <div class="col-6 d-grid gap-2">
                            <a href="safe-zone.html">Safe Zone</a>
                            <a href="7th-floor.html">7th Floor</a>
                            <a href="6th-floor.html">6th Floor</a>
                            <a href="5th-floor.html">5th Floor</a>
                            <a href="3rd-floor.html">3rd Floor</a>
                            <a href="2nd-floor.html">2nd Floor</a>
                            <a href="groundfloor.html">Ground Floor</a>
                        </div>
                        <div class="col-6 d-grid gap-2">
                            <div class="dropdown">
                                <button class="btn text-white dropdown-toggle dropbtn" type="button" id="doaDropdownBtn" data-bs-toggle="dropdown" aria-expanded="false" style="background-color: #8b0000;">
                                    Select a destination
                                </button>
                                <ul class="dropdown-menu w-100 no-active-bg bg-white" aria-labelledby="doaDropdownBtn" style="font-size: 0.85rem;" id="scrollable">
                                    <li><button class="dropdown-item no-active-bg" id="conferenceRoom">Conference Room</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="gsDeansOffice">GS Dean's Office</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="reception1">Reception 1</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="secretarysOffice">Secretary's Office</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="adminsOffice">Admin's Office</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="elevatorLobby">Elevator Lobby</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="ictd">ICTD</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="reception2">Reception 2</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="serverRoom">Server Room</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="c202">C202</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="c201">C201</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="lockerArea">Locker Area</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="aux">AUX</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="ee">E.E</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="fireExitStair">Fire Exit Stair</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="c203">C203</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="c204">C204</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="accreditationRoom">Accrediation Room</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="doeFacultyRoom">DOE Faculty Room</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="dcsChair">DCS Chair</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="reception3">Reception 3</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="defenseRoom1">Defense Room 1</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="coecsaDeansOffice">COECSA Dean's Office</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="defenseRoom2">Defense Room 2</button></li>
                                    <li><button class="dropdown-item no-active-bg" id="fireExitStation">Fire Exit Station</button></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Description -->
    <div class="footer-bar px-3 px-md-5 py-md-4 py-3 text-justify">
        Click on the floors to automatically open the Evacuation Thematic Map for
        the COECSA Building at LPU Cavite. The map will provide detailed
        evacuation routes and safety information to help you navigate emergency
        situations.
    </div>

    <footer class="footer">
        <div class="container">
            <div class="footer-links">
                <div class="footer-column">
                    <h2 class="fw-semibold">About Us</h2>
                    <ul>
                        <li><a href="mapa-alerto.html">Mapa-Alerto</a></li>
                        <li><a href="university-profile.html">University Profile</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h2 class="fw-semibold">Events</h2>
                    <ul>
                        <li><a href="events.html">Seminar and Training</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h2 class="fw-semibold">COECSA Map</h2>
                    <ul>
                        <li><a href="coecsa.html">COECSA Building</a></li>
                        <li><a href="groundfloor.html">Ground Floor</a></li>
                        <li><a href="2nd-floor.html">2nd Floor</a></li>
                        <li><a href="3rd-floor.html">3rd Floor</a></li>
                        <li><a href="5th-floor.html">5th Floor</a></li>
                        <li><a href="6th-floor.html">6th Floor</a></li>
                        <li><a href="7th-floor.html">7th Floor</a></li>
                        <li><a href="safe-zone.html">Safe Zone</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h2 class="fw-semibold">Emergency Guide</h2>
                    <ul>
                        <li><a href="what-to-do.html">What to do</a></li>
                        <li><a href="contacts.html">Contacts</a></li>
                    </ul>
                    <h2 style="margin-top: 30px" class="fw-semibold">FAQs</h2>
                    <ul>
                        <li><a href="faq.html">Security</a></li>
                        <li><a href="faq.html">Map</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <!-- Image Modal -->
    <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-fullscreen-custom modal-dialog-centered">
            <div class="modal-content bg-transparent border-0">
                <div class="modal-body text-center p-0">
                    <img id="modalImage" class="img-fluid rounded" alt="Zoomed 2nd Floor" />
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="script.js"></script>
    <script>
        const modalImage = document.getElementById("modalImage");
        const buildingImage = document.getElementById("mainImage");

        function updateImages() {
            const isMobile = window.innerWidth <= 767;
            const mobileSrc = "./assets/floors/mob/Mobile COECSA 2ND FLOOR.png";
            const desktopSrc = "./assets/floors/COECSA 2ND FLOOR.png";

            // Set the modal image source
            modalImage.src = isMobile ? mobileSrc : desktopSrc;

            // Update the main image for mobile/desktop
            buildingImage.src = isMobile ? mobileSrc : desktopSrc;
        }

        window.addEventListener("load", updateImages);
        window.addEventListener("resize", updateImages);

        buildingImage.addEventListener("click", () => {
            updateImages();
        });


        //  3rd Floor Destinations
        const conferenceRoomBtn = document.getElementById('conferenceRoom');
        const gsDeansOfficeBtn = document.getElementById('gsDeansOffice');
        const reception1Btn = document.getElementById('reception1');
        const secretarysOfficeBtn = document.getElementById('secretarysOffice');
        const adminsOfficeBtn = document.getElementById('adminsOffice');
        const elevatorLobbyBtn = document.getElementById('elevatorLobby');
        const ictdBtn = document.getElementById('ictd');
        const reception2Btn = document.getElementById('reception2');
        const serverRoomBtn = document.getElementById('serverRoom');
        const c202Btn = document.getElementById('c202');
        const c201Btn = document.getElementById('c201');
        const lockerAreaBtn = document.getElementById('lockerArea');
        const auxBtn = document.getElementById('aux');
        const eeBtn = document.getElementById('ee');
        const fireExitStairBtn = document.getElementById('fireExitStair');
        const c203Btn = document.getElementById('c203');
        const c204Btn = document.getElementById('c204');
        const accreditationRoomBtn = document.getElementById('accreditationRoom');
        const doeFacultyRoomBtn = document.getElementById('doeFacultyRoom');
        const dcsChairBtn = document.getElementById('dcsChair');
        const reception3Btn = document.getElementById('reception3');
        const defenseRoom1Btn = document.getElementById('defenseRoom1');
        const coecsaDeansOfficeBtn = document.getElementById('coecsaDeansOffice');
        const defenseRoom2Btn = document.getElementById('defenseRoom2');
        const fireExitStationBtn = document.getElementById('fireExitStation');

    
        const mainImage = document.getElementById('mainImage');

        // Store default image sources
        const defaultDesktop = "./assets/floors/COECSA 2ND FLOOR.png";
        const defaultMobile = "./assets/floors/mob/Mobile COECSA 2ND FLOOR.png";
        const animConferenceRoomDesktop = "./assets/animations/web/2ndFloor/1.gif";
        const animConferenceRoomMobile = "./assets/animations/mob/2ndFloor/1.gif";
        const animGsDeansOfficeDesktop = "./assets/animations/web/2ndFloor/2.gif";
        const animGsDeansOfficeMobile = "./assets/animations/mob/2ndFloor/2.gif";
        const animReception1Desktop = "./assets/animations/web/2ndFloor/3.gif";
        const animReception1Mobile = "./assets/animations/mob/2ndFloor/3.gif";
        const animSecretarysOfficeDesktop = "./assets/animations/web/2ndFloor/4.gif";
        const animSecretarysOfficeMobile = "./assets/animations/mob/2ndFloor/4.gif";
        const animAdminsOfficeDesktop = "./assets/animations/web/2ndFloor/5.gif";
        const animAdminsOfficeMobile = "./assets/animations/mob/2ndFloor/5.gif";
        const animElevatorLobbyDesktop = "./assets/animations/web/2ndFloor/6.gif"; 
        const animElevatorLobbyMobile = "./assets/animations/mob/2ndFloor/6.gif";
        const animIctdDesktop = "./assets/animations/web/2ndFloor/7.gif";
        const animIctdMobile = "./assets/animations/mob/2ndFloor/7.gif";
        const animReception2Desktop = "./assets/animations/web/2ndFloor/8.gif";
        const animReception2Mobile = "./assets/animations/mob/2ndFloor/8.gif";
        const animServerRoomDesktop = "./assets/animations/web/2ndFloor/9.gif";
        const animServerRoomMobile = "./assets/animations/mob/2ndFloor/9.gif";
        const animC202Desktop = "./assets/animations/web/2ndFloor/10.gif";
        const animC202Mobile = "./assets/animations/mob/2ndFloor/10.gif";
        const animC201Desktop = "./assets/animations/web/2ndFloor/11.gif";
        const animC201Mobile = "./assets/animations/mob/2ndFloor/11.gif";
        const animLockerAreaDesktop = "./assets/animations/web/2ndFloor/12.gif";
        const animLockerAreaMobile = "./assets/animations/mob/2ndFloor/12.gif";
        const animAuxDesktop = "./assets/animations/web/2ndFloor/13.gif";
        const animAuxMobile = "./assets/animations/mob/2ndFloor/13.gif";
        const animEeDesktop = "./assets/animations/web/2ndFloor/14.gif";
        const animEeMobile = "./assets/animations/mob/2ndFloor/14.gif";
        const animFireExitStairDesktop = "./assets/animations/web/2ndFloor/15.gif";
        const animFireExitStairMobile = "./assets/animations/mob/2ndFloor/15.gif";
        const animC203Desktop = "./assets/animations/web/2ndFloor/16.gif";
        const animC203Mobile = "./assets/animations/mob/2ndFloor/16.gif";
        const animC204Desktop = "./assets/animations/web/2ndFloor/17.gif";
        const animC204Mobile = "./assets/animations/mob/2ndFloor/17.gif";
        const animAccreditationRoomDesktop = "./assets/animations/web/2ndFloor/18.gif";
        const animAccreditationRoomMobile = "./assets/animations/mob/2ndFloor/18.gif";
        const animDoeFacultyRoomDesktop = "./assets/animations/web/2ndFloor/19.gif";
        const animDoeFacultyRoomMobile = "./assets/animations/mob/2ndFloor/19.gif";
        const animDcsChairDesktop = "./assets/animations/web/2ndFloor/20.gif";
        const animDcsChairMobile = "./assets/animations/mob/2ndFloor/20.gif";
        const animReception3Desktop = "./assets/animations/web/2ndFloor/21.gif";
        const animReception3Mobile = "./assets/animations/mob/2ndFloor/21.gif";
        const animDefenseRoom1Desktop = "./assets/animations/web/2ndFloor/22.gif";
        const animDefenseRoom1Mobile = "./assets/animations/mob/2ndFloor/22.gif";
        const animCoecsaDeansOfficeDesktop = "./assets/animations/web/2ndFloor/23.gif";
        const animCoecsaDeansOfficeMobile = "./assets/animations/mob/2ndFloor/23.gif";
        const animDefenseRoom2Desktop = "./assets/animations/web/2ndFloor/24.gif";
        const animDefenseRoom2Mobile = "./assets/animations/mob/2ndFloor/24.gif";
        const animFireExitStationDesktop = "./assets/animations/web/2ndFloor/25.gif";
        const animFireExitStationMobile = "./assets/animations/mob/2ndFloor/25.gif";

        
        let animationTimeout = null;

        function isMobile() {
            return window.innerWidth <= 767;
        }

        // Ensure the GIF and PNG have the same size and aspect ratio
        function setImageStyle() {
            const isGif = mainImage.src.endsWith('.gif');
            mainImage.style.maxWidth = "100%";
            mainImage.style.height = "auto";
            if (isGif) {
            mainImage.style.transform = "scale(0.975) translateY(-24px) translateX(0.65px)";
            // Apply filter to make GIF background look more white
            mainImage.style.filter = " contrast(1.05)";
            } else {
            mainImage.style.transform = "none";
            mainImage.style.filter = "none";
            mainImage.style.background = "none";
            }
        }

        function showAnimation(animDesktop, animMobile) {
            // Reset previous timeout if exists
            if (animationTimeout) {
                clearTimeout(animationTimeout);
                animationTimeout = null;
            }
            mainImage.src = isMobile() ? animMobile : animDesktop;
            setImageStyle();
            window.scrollTo({ top: 0, behavior: 'smooth' });
            animationTimeout = setTimeout(() => {
                mainImage.src = isMobile() ? defaultMobile : defaultDesktop;
                setImageStyle();
                animationTimeout = null;
            }, 10000);
        }

        conferenceRoomBtn.addEventListener('click', function () {
            showAnimation(animConferenceRoomDesktop, animConferenceRoomMobile);
        });
        gsDeansOfficeBtn.addEventListener('click', function () {
            showAnimation(animGsDeansOfficeDesktop, animGsDeansOfficeMobile);
        });
        reception1Btn.addEventListener('click', function () {
            showAnimation(animReception1Desktop, animReception1Mobile);
        });
        secretarysOfficeBtn.addEventListener('click', function () {
            showAnimation(animSecretarysOfficeDesktop, animSecretarysOfficeMobile);
        });
        elevatorLobbyBtn.addEventListener('click', function () {
            showAnimation(animElevatorLobbyDesktop, animElevatorLobbyMobile);
        });
        adminsOfficeBtn.addEventListener('click', function () {
            showAnimation(animAdminsOfficeDesktop, animAdminsOfficeMobile);
        });
        ictdBtn.addEventListener('click', function () {
            showAnimation(animIctdDesktop, animIctdMobile);
        });
        reception2Btn.addEventListener('click', function () {
            showAnimation(animReception2Desktop, animReception2Mobile);
        });
        serverRoomBtn.addEventListener('click', function () {
            showAnimation(animServerRoomDesktop, animServerRoomMobile);
        });
        c202Btn.addEventListener('click', function () {
            showAnimation(animC202Desktop, animC202Mobile);
        });
        c201Btn.addEventListener('click', function () {
            showAnimation(animC201Desktop, animC201Mobile);
        });
        lockerAreaBtn.addEventListener('click', function () {
            showAnimation(animLockerAreaDesktop, animLockerAreaMobile);
        });
        auxBtn.addEventListener('click', function () {
            showAnimation(animAuxDesktop, animAuxMobile);
        });
        eeBtn.addEventListener('click', function () {
            showAnimation(animEeDesktop, animEeMobile);
        });
        fireExitStairBtn.addEventListener('click', function () {
            showAnimation(animFireExitStairDesktop, animFireExitStairMobile);
        });
        c203Btn.addEventListener('click', function () {
            showAnimation(animC203Desktop, animC203Mobile);
        });
        c204Btn.addEventListener('click', function () {
            showAnimation(animC204Desktop, animC204Mobile);
        });
        accreditationRoomBtn.addEventListener('click', function () {
            showAnimation(animAccreditationRoomDesktop, animAccreditationRoomMobile);
        });
        doeFacultyRoomBtn.addEventListener('click', function () {
            showAnimation(animDoeFacultyRoomDesktop, animDoeFacultyRoomMobile);
        });
        dcsChairBtn.addEventListener('click', function () {
            showAnimation(animDcsChairDesktop, animDcsChairMobile);
        });
        reception3Btn.addEventListener('click', function () {
            showAnimation(animReception3Desktop, animReception3Mobile);
        });
        defenseRoom1Btn.addEventListener('click', function () {
            showAnimation(animDefenseRoom1Desktop, animDefenseRoom1Mobile);
        });
        coecsaDeansOfficeBtn.addEventListener('click', function () {
            showAnimation(animCoecsaDeansOfficeDesktop, animCoecsaDeansOfficeMobile);
        });
        defenseRoom2Btn.addEventListener('click', function () {
            showAnimation(animDefenseRoom2Desktop, animDefenseRoom2Mobile);
        });
        fireExitStationBtn.addEventListener('click', function () {
            showAnimation(animFireExitStationDesktop, animFireExitStationMobile);
        });


        window.addEventListener('DOMContentLoaded', setImageStyle);
        mainImage.addEventListener('load', setImageStyle);
    </script>
</body>

</html>